(function(){var FormSoul,__hasProp={}.hasOwnProperty;FormSoul=function(){function FormSoul(model,container){var elem,errorElem,key,_ref;this.model=model;this.errors={};this.inputElements={};this.errorElements={};container=$(container);_ref=this.model;for(key in _ref){if(!__hasProp.call(_ref,key))continue;elem=container.find("[fs-field="+key+"]:first");if(elem!=null){this.inputElements[key]=elem;errorElem=container.find("[fs-error="+key+"]:first");if(errorElem!=null){this.errorElements[key]=errorElem}}}}FormSoul.prototype.showErrors=function(){var errorElem,inputElem,key,_ref,_results;_ref=this.errorElements;_results=[];for(key in _ref){if(!__hasProp.call(_ref,key))continue;errorElem=_ref[key];inputElem=this.inputElements[key];if(this.errors[key]!=null&&this.errors[key].length>0){if(!errorElem.hasClass("fs-error")){errorElem.addClass("fs-error")}errorElem.text(this.errors[key]);if(!inputElem.hasClass("fs-error")){_results.push(inputElem.addClass("fs-error"))}else{_results.push(void 0)}}else{errorElem.text("");errorElem.removeClass("fs-error");_results.push(inputElem.removeClass("fs-error"))}}return _results};FormSoul.prototype.validate=function(showErrors){if(showErrors==null){showErrors=true}this.errors=this.model.validate();if(showErrors){showErrors()}return Object.keys(this.errors).length===0};FormSoul.prototype.fill=function(){var elem,key,_ref,_results;_ref=this.inputElements;_results=[];for(key in _ref){if(!__hasProp.call(_ref,key))continue;elem=_ref[key];_results.push(elem.val(this.model[key]))}return _results};FormSoul.prototype.gather=function(){var elem,key,_ref,_results;_ref=this.inputElements;_results=[];for(key in _ref){if(!__hasProp.call(_ref,key))continue;elem=_ref[key];_results.push(this.model[key]=elem.val())}return _results};return FormSoul}()}).call(this);